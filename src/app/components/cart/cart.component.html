<section class="bg-main-light w-75 mx-auto my-4 rounded-4 shadow p-4">
  <div class="d-flex justify-content-between">
    <h1 class="h2 f-weight-800 text-main">Cart Shop</h1>
    
    @if (checkOnBtnClear == true) {
      <button (click)="clearCart()" (click)=" clearCart()" class="btn btn-outline-danger f-weight-600">
        Clear Cart
        <i class="px-1 fa-solid fa-trash-can"></i>
      </button>

    }
  </div>
  <p class="text-main h5 text-center f-weight-600 my-3">
    Total Cart Price : {{ detailesOfCart().totalCartPrice | currency : "GBP" }}
  </p>
  @for (product of detailesOfCart().products; track product.product.id) {
  <div class="row mb-1 border-bottom align-items-center">
    <div class="col-md-1">
      <div class="img">
        <img
          [src]="product.product.imageCover"
          class="w-100"
          [alt]="product.product.title"
        />
      </div>
    </div>
    <div class="col-md-11">
      <div class="d-flex justify-content-between align-items-center">
        <div class="py-2">
          <h3 class="h5">
            {{ product.product.title }}
          </h3>
          <p class="m-0 mb-2 text-main">
            Price:{{ product.price | currency : "GBP" }}
          </p>

          <button
            class="btn border-0 p-0"
            (click)="deleteItem(product.product.id)"
          >
            <i class="fa-regular fa-trash-can icon text-danger"></i>
            Remove
          </button>
        </div>
        <div class="d-flex gap-2 align-items-center justify-content-between">
          <span class="text-main" (click)="updateCount(product.product.id ,product.count+1)">
            <i class="fa-solid fa-circle-plus icon"></i>
          </span>
          <p class="f-weight-600 m-0">
            {{ product.count }}
          </p>
          <span  (click)="updateCount(product.product.id,product.count-1)"><i class="fa-solid fa-circle-minus icon text-danger"></i></span>
        </div>
      </div>
    </div>
  </div>
  }
  @if (checkOnBtnClear == true) {
    <button [routerLink]="['/orders',detailesOfCart()._id]" class="btn-main my-2 f-weight-600">Confirme Order</button>
  }
</section>
